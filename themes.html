<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Themes - Reckoning Figures</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@700;800;900&display=swap');
        
        :root {
            --bg-primary: #1F2937;
            --bg-card: #2D3748;
            --bg-card-hover: #374151;
            --border: #4A5568;
            --border-hover: #5a6573;
            --text: #ffffff;
            --text-muted: #9CA3AF;
            --text-dim: #6B7280;
            --primary: #58CC02;
            --primary-dark: #45A302;
            --secondary: #7C3AED;
            --secondary-dark: #5B21B6;
            --accent: #FFA500;
            --accent-dark: #FF6B00;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: var(--bg-primary);
            color: var(--text);
            min-height: 100vh;
            padding-bottom: 20px;
            transition: background 0.3s ease;
        }

        /* Header */
        #header {
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 16px;
            background: var(--bg-primary);
            border-bottom: 2px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .back-btn {
            width: 40px;
            height: 40px;
            background: none;
            border: none;
            color: var(--text-muted);
            font-size: 28px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .header-title {
            font-size: 24px;
            font-weight: 900;
            color: var(--text);
        }

        /* Content */
        #content {
            max-width: 600px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        .intro-text {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-muted);
            margin-bottom: 30px;
            text-align: center;
        }

        /* Theme Grid */
        .themes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 16px;
            margin-bottom: 30px;
        }

        .theme-card {
            background: var(--bg-card);
            border: 3px solid var(--border);
            border-radius: 16px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
        }

        .theme-card:hover {
            transform: translateY(-4px);
            border-color: var(--primary);
        }

        .theme-card.active {
            border-color: var(--primary);
            background: var(--bg-card-hover);
            box-shadow: 0 0 20px rgba(88, 204, 2, 0.3);
        }

        .theme-icon {
            width: 56px;
            height: 56px;
            margin: 0 auto 16px auto;
            color: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-icon svg {
            width: 100%;
            height: 100%;
        }
        
        .theme-icon svg[fill="none"] {
            stroke-width: 2.5;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        .theme-name {
            font-size: 16px;
            font-weight: 900;
            color: var(--text);
            margin-bottom: 8px;
        }

        .theme-preview {
            display: flex;
            gap: 6px;
            justify-content: center;
            margin-top: 12px;
        }

        .color-dot {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid var(--border);
        }

        .check-badge {
            display: inline-block;
            background: var(--primary);
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 900;
            text-transform: uppercase;
            margin-top: 8px;
        }
    </style>
</head>
<body>
    <div id="header">
        <button class="back-btn" onclick="goBack()">←</button>
        <div class="header-title">Choose Your Theme</div>
    </div>

    <div id="content">
        <div class="intro-text">Pick a color scheme that matches your vibe!</div>
        <div id="debug-test" style="color: red; font-weight: 900; margin-bottom: 20px;">JavaScript NOT loaded</div>
        <div class="themes-grid" id="themes-grid"></div>
    </div>

    <script>
        const THEMES = {
            dark: {
                name: 'Dark Mode',
                icon: '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.05 8.05 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05z"/></svg>',
                colors: {
                    '--bg-primary': '#1F2937',
                    '--bg-card': '#2D3748',
                    '--bg-card-hover': '#374151',
                    '--border': '#4A5568',
                    '--border-hover': '#5a6573',
                    '--text': '#ffffff',
                    '--text-muted': '#9CA3AF',
                    '--text-dim': '#6B7280',
                    '--primary': '#58CC02',
                    '--primary-dark': '#45A302',
                    '--secondary': '#7C3AED',
                    '--secondary-dark': '#5B21B6',
                    '--accent': '#FFA500',
                    '--accent-dark': '#FF6B00'
                },
                preview: ['#1F2937', '#58CC02', '#7C3AED']
            },
            light: {
                name: 'Light Mode',
                icon: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>',
                colors: {
                    '--bg-primary': '#F9FAFB',
                    '--bg-card': '#FFFFFF',
                    '--bg-card-hover': '#F3F4F6',
                    '--border': '#E5E7EB',
                    '--border-hover': '#D1D5DB',
                    '--text': '#1F2937',
                    '--text-muted': '#6B7280',
                    '--text-dim': '#9CA3AF',
                    '--primary': '#10B981',
                    '--primary-dark': '#059669',
                    '--secondary': '#8B5CF6',
                    '--secondary-dark': '#7C3AED',
                    '--accent': '#F59E0B',
                    '--accent-dark': '#D97706'
                },
                preview: ['#F9FAFB', '#10B981', '#8B5CF6']
            },
            ocean: {
                name: 'Ocean Blue',
                icon: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 12c1.5-1.5 3-1.5 4.5 0S9 13.5 10.5 12s3-1.5 4.5 0 3 1.5 4.5 0"/><path d="M2 18c1.5-1.5 3-1.5 4.5 0S9 19.5 10.5 18s3-1.5 4.5 0 3 1.5 4.5 0"/><path d="M2 6c1.5-1.5 3-1.5 4.5 0S9 7.5 10.5 6s3-1.5 4.5 0 3 1.5 4.5 0"/></svg>',
                colors: {
                    '--bg-primary': '#0F172A',
                    '--bg-card': '#1E293B',
                    '--bg-card-hover': '#334155',
                    '--border': '#475569',
                    '--border-hover': '#64748B',
                    '--text': '#F1F5F9',
                    '--text-muted': '#94A3B8',
                    '--text-dim': '#64748B',
                    '--primary': '#06B6D4',
                    '--primary-dark': '#0891B2',
                    '--secondary': '#3B82F6',
                    '--secondary-dark': '#2563EB',
                    '--accent': '#8B5CF6',
                    '--accent-dark': '#7C3AED'
                },
                preview: ['#0F172A', '#06B6D4', '#3B82F6']
            },
            sunset: {
                name: 'Sunset',
                icon: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="4"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="19.78" y1="4.22" x2="18.36" y2="5.64"/><line x1="21" y1="12" x2="23" y2="12"/><path d="M2 16h20"/><path d="M2 20h20"/></svg>',
                colors: {
                    '--bg-primary': '#1C1917',
                    '--bg-card': '#292524',
                    '--bg-card-hover': '#44403C',
                    '--border': '#57534E',
                    '--border-hover': '#78716C',
                    '--text': '#FAFAF9',
                    '--text-muted': '#A8A29E',
                    '--text-dim': '#78716C',
                    '--primary': '#F97316',
                    '--primary-dark': '#EA580C',
                    '--secondary': '#EF4444',
                    '--secondary-dark': '#DC2626',
                    '--accent': '#FBBF24',
                    '--accent-dark': '#F59E0B'
                },
                preview: ['#1C1917', '#F97316', '#FBBF24']
            },
            forest: {
                name: 'Forest',
                icon: '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L8 8h2v3H8l4 4 4-4h-2V8h2l-4-6zm0 18v-4h-1l1-1 1 1h-1v4z"/><path d="M16 14h-1.5l2.5 3h-2l2 3H7l2-3H7l2.5-3H8l4-4 4 4z"/></svg>',
                colors: {
                    '--bg-primary': '#14532D',
                    '--bg-card': '#166534',
                    '--bg-card-hover': '#15803D',
                    '--border': '#16A34A',
                    '--border-hover': '#22C55E',
                    '--text': '#F0FDF4',
                    '--text-muted': '#BBF7D0',
                    '--text-dim': '#86EFAC',
                    '--primary': '#4ADE80',
                    '--primary-dark': '#22C55E',
                    '--secondary': '#10B981',
                    '--secondary-dark': '#059669',
                    '--accent': '#FDE047',
                    '--accent-dark': '#FACC15'
                },
                preview: ['#14532D', '#4ADE80', '#FDE047']
            },
            midnight: {
                name: 'Midnight',
                icon: '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2l1.5 4.5L18 8l-4.5 1.5L12 14l-1.5-4.5L6 8l4.5-1.5z"/></svg>',
                colors: {
                    '--bg-primary': '#1E1B4B',
                    '--bg-card': '#312E81',
                    '--bg-card-hover': '#3730A3',
                    '--border': '#4C1D95',
                    '--border-hover': '#6D28D9',
                    '--text': '#F5F3FF',
                    '--text-muted': '#C4B5FD',
                    '--text-dim': '#A78BFA',
                    '--primary': '#A855F7',
                    '--primary-dark': '#9333EA',
                    '--secondary': '#EC4899',
                    '--secondary-dark': '#DB2777',
                    '--accent': '#F472B6',
                    '--accent-dark': '#EC4899'
                },
                preview: ['#1E1B4B', '#A855F7', '#EC4899']
            }
        };

        function applyTheme(themeName) {
            const theme = THEMES[themeName];
            if (!theme) return;
            
            const root = document.documentElement;
            Object.entries(theme.colors).forEach(([property, value]) => {
                root.style.setProperty(property, value);
            });
            
            localStorage.setItem('reckonTheme', themeName);
            renderThemes(themeName);
        }

        function renderThemes(activeTheme) {
            console.log('renderThemes called with activeTheme:', activeTheme);
            const grid = document.getElementById('themes-grid');
            console.log('Grid element:', grid);
            grid.innerHTML = '';
            
            Object.entries(THEMES).forEach(([key, theme]) => {
                console.log('Rendering theme:', key, theme.name);
                const isActive = key === activeTheme;
                const card = document.createElement('div');
                card.className = `theme-card ${isActive ? 'active' : ''}`;
                card.onclick = () => applyTheme(key);
                
                const previewDots = theme.preview.map(color => 
                    `<div class="color-dot" style="background: ${color};"></div>`
                ).join('');
                
                card.innerHTML = `
                    <div class="theme-icon">${theme.icon}</div>
                    <div class="theme-name">${theme.name}</div>
                    <div class="theme-preview">${previewDots}</div>
                    ${isActive ? '<div class="check-badge">✓ Active</div>' : ''}
                `;
                
                grid.appendChild(card);
            });
            console.log('Finished rendering', Object.keys(THEMES).length, 'themes');
        }

        function loadTheme() {
            const savedTheme = localStorage.getItem('reckonTheme') || 'dark';
            applyTheme(savedTheme);
        }

        function goBack() {
            window.location.href = 'profile.html';
        }

        // Initialize
        console.log('Initializing themes page...');
        document.getElementById('debug-test').textContent = 'JavaScript IS loaded! Themes object has ' + Object.keys(THEMES).length + ' themes';
        console.log('THEMES object:', THEMES);
        loadTheme();
        console.log('loadTheme() completed');
    </script>
</body>
</html>
